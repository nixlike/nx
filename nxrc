#!/bin/bash

NX_VERSION="0.1"
NX_BASE_URL="https://raw.githubusercontent.com/nixlike/nx/master"
NX_WGET=$(which wget)
export NX_ROOT="$HOME/.nx"

alias nx_ver="echo $NX_VERSION"

function nx_up {

 #Checking if nx folder exists 
 if [ ! -d $NX_ROOT ]; then mkdir $NX_ROOT; fi 

 #Downloading from repository
 if [ -x $NX_WGET ]
 then 
  $NX_WGET -O $NX_ROOT/nxrc $NX_BASE_URL/nxrc
  $NX_WGET -O $NX_ROOT/nxvimrc $NX_BASE_URL/vimrc
 fi
 
#Checking bashrc
 grep "$NX_ROOT/nxrc" ~/.bashrc  > /dev/null
 if [ $? -ne 0 ]
 then
  echo "Adding include to ~/.bashrc !!"
  echo "" >> ~/.bashrc
  echo "source $NX_ROOT/nxrc" >> ~/.bashrc
 fi
 echo "NX_VERSION = $NX_VERSION"
}
